{% extends "layouts/base.html" %}

{% block sidebar_left %}
<h2>Play Records</h2>

<!-- Recent Events Section -->
<div>
    <h3>Recent Events</h3>
    <div class="slider" id="recent-events">
        <button class="slider-btn" onclick="moveSlide('recent-events', -1)">&lt;</button>
        <ul class="slider-content"></ul>
        <button class="slider-btn" onclick="moveSlide('recent-events', 1)">&gt;</button>
    </div>
</div>

<!-- Completed Quests Section -->
<div>
    <h3>Completed Quests</h3>
    <div class="slider" id="completed-quests">
        <button class="slider-btn" onclick="moveSlide('completed-quests', -1)">&lt;</button>
        <ul class="slider-content"></ul>
        <button class="slider-btn" onclick="moveSlide('completed-quests', 1)">&gt;</button>
    </div>
</div>

<!-- Current Quest Section -->
<div>
    <h3>Current Quest</h3>
    <div id="current-quest"></div>
</div>
{% endblock %}

{% block main %}
<h1>Script Lines</h1>

<!-- branch 값에 따라 내용이 달라짐 -->
{{ script }}

<div id="choices-container" class="choices" style="margin-top: 20px;">
    <button onclick="chooseOption(1)" style="padding: 10px 20px; margin-right: 10px;">선택지1</button>
    <button onclick="chooseOption(2)" style="padding: 10px 20px; margin-right: 10px;">선택지2</button>
    <button onclick="useDice()" style="padding: 10px 20px;">주사위사용</button>
</div>

<div id="output" style="margin-top: 20px; padding: 10px; border: 1px solid #ccc; display: none;"></div>

<!-- 결과를 보여주는 상자 -->
<div id="result-box" style="margin-top: 20px; padding: 10px; border: 1px solid #ccc; display: none;">
    <h4>결과:</h4>
    <p id="result-content"></p>
</div>

<!-- 다음으로 버튼 (초기에는 숨김) -->
<div id="next-button-container" style="margin-top: 20px; display: none;">
    <button onclick="changeBranch()" style="padding: 10px 20px;">다음으로</button>
</div>


<!-- 채팅창 추가 -->
<div class="chatbox" style="margin-top: 20px;">
    <form onsubmit="return false;" style="display: flex; align-items: center;">
        <input id="user-input" type="text" placeholder="직접 입력하기" style="flex: 1; padding: 10px; border: 1px solid #ccc; border-radius: 4px; margin-right: 10px;">
        <button id="send-button" type="button" onclick="printf()" style="padding: 10px 20px;">전송</button>
    </form>
</div>

<script>
    
</script>

{% endblock %}

{% block sidebar_right %}
    <h2>{{ character.name }}</h2>
    <p>Job: {{ character.job }}</p>
    <p>Strength: {{ character.stats.Strength }}</p>
    <p>Dexterity: {{ character.stats.Dexterity }}</p>
    <p>Defense: {{ character.stats.Defense }}</p>
{% endblock %}
